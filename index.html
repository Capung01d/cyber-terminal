<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MAZKIPLKAY Cyber - Ultra Terminal</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@300;500;700&family=Fira+Code:wght@300;400;500&display=swap');
        :root { --primary-glow: #00ff41; --accent-blue: #00d4ff; --bg-dark: #020617; }
        body { font-family: 'Space Grotesk', sans-serif; background-color: var(--bg-dark); color: #e2e8f0; overflow: hidden; height: 100vh; }
        .mono { font-family: 'Fira Code', monospace; }
        #bg-canvas { position: fixed; top: 0; left: 0; z-index: -1; opacity: 0.3; }
        .glass { background: rgba(15, 23, 42, 0.7); backdrop-filter: blur(12px); border: 1px solid rgba(0, 255, 65, 0.1); box-shadow: 0 8px 32px 0 rgba(0, 0, 0, 0.8); }
        .glass-header { background: rgba(0, 255, 65, 0.05); border-bottom: 1px solid rgba(0, 255, 65, 0.2); }
        @keyframes scanline { 0% { transform: translateY(-100%); } 100% { transform: translateY(100%); } }
        .scanline::after { content: ""; position: absolute; inset: 0; background: linear-gradient(to bottom, transparent 50%, rgba(0, 255, 65, 0.05) 51%); background-size: 100% 4px; pointer-events: none; animation: scanline 10s linear infinite; }
        .glow-text { text-shadow: 0 0 10px rgba(0, 255, 65, 0.5); }
        .cyber-btn { position: relative; overflow: hidden; transition: all 0.3s ease; }
        .cyber-btn:hover { box-shadow: 0 0 20px rgba(0, 255, 65, 0.4); transform: translateY(-1px); }
        .custom-scroll::-webkit-scrollbar { width: 4px; }
        .custom-scroll::-webkit-scrollbar-thumb { background: var(--primary-glow); border-radius: 10px; }
        .code-snippet { background: #000; border-left: 2px solid var(--accent-blue); padding: 12px; border-radius: 4px; font-family: 'Fira Code', monospace; font-size: 0.8rem; margin: 8px 0; color: #a5f3fc; overflow-x: auto; }
    </style>
</head>
<body class="flex flex-col items-center justify-center p-4">
    <canvas id="bg-canvas"></canvas>

    <!-- AUTH GATE -->
    <div id="auth-gate" class="fixed inset-0 z-50 flex items-center justify-center bg-black/80 backdrop-blur-md px-4">
        <div class="max-w-xl w-full glass p-8 rounded-2xl border-t-2 border-green-500/50 relative overflow-hidden">
            <div class="scanline"></div>
            <div class="text-center mb-8">
                <div class="inline-block px-3 py-1 border border-green-500/30 rounded-full text-[10px] text-green-500 tracking-[0.5em] mb-4 uppercase text-glow">System Verification</div>
                <h1 class="text-4xl font-black text-white glow-text tracking-tighter">MAZKIPLKAY<span class="text-green-500 italic">CYBER</span></h1>
            </div>
            <div class="space-y-4 mb-8 text-sm text-gray-400 leading-relaxed max-h-60 overflow-y-auto custom-scroll pr-2">
                <p class="text-white font-bold border-b border-green-900 pb-2 mb-2 uppercase tracking-widest text-[10px]">Security Protocols & Liability</p>
                <p><span class="text-green-500 font-bold">01.</span> Akses khusus Red Team & Ethical Hackers.</p>
                <p><span class="text-green-500 font-bold">02.</span> Patuhi hukum siber lokal dan internasional.</p>
                <p><span class="text-green-500 font-bold">03.</span> Mazkiplay tidak bertanggung jawab atas penyalahgunaan informasi.</p>
            </div>
            <div class="space-y-4">
                <label class="flex items-center gap-3 cursor-pointer select-none text-[11px] text-gray-500">
                    <input type="checkbox" id="check-agree" class="w-4 h-4 accent-green-500 rounded border-gray-700 bg-gray-900">
                    <span>Saya setuju dengan protokol siber yang berlaku.</span>
                </label>
                <button onclick="unlockTerminal()" id="btn-unlock" disabled class="w-full py-4 cyber-btn bg-green-600/10 border border-green-500 text-green-500 font-bold rounded-lg uppercase tracking-widest text-xs disabled:opacity-20">Initialize Connection</button>
            </div>
        </div>
    </div>

    <!-- TERMINAL UI -->
    <div id="terminal-ui" class="hidden w-full max-w-6xl h-[90vh] glass rounded-3xl flex flex-col overflow-hidden border border-white/5 relative shadow-2xl">
        <div class="glass-header px-6 py-4 flex justify-between items-center">
            <div class="flex items-center gap-4">
                <div class="flex gap-1.5"><div class="w-3 h-3 rounded-full bg-red-500"></div><div class="w-3 h-3 rounded-full bg-yellow-500"></div><div class="w-3 h-3 rounded-full bg-green-500"></div></div>
                <h2 class="mono text-xs font-bold text-green-500 tracking-widest uppercase">MAZKIPLKAY_ASSISTANT_V4.0</h2>
            </div>
            <div class="text-right"><span id="clock" class="mono text-xs text-white font-bold">00:00:00</span></div>
        </div>
        <div id="chat-display" class="flex-grow overflow-y-auto p-6 space-y-8 custom-scroll">
            <div class="text-sm text-blue-400 font-bold italic text-lg">"Hallo saya adalah mazkiplay assistance anda. Tanya apa saja?"</div>
        </div>
        <div class="p-6 bg-black/40 border-t border-white/5">
            <div id="ai-loading" class="hidden flex items-center gap-2 mb-3 ml-12">
                <div class="flex gap-1"><div class="w-1 h-1 bg-green-500 animate-bounce"></div><div class="w-1 h-1 bg-green-500 animate-bounce [animation-delay:-0.3s]"></div></div>
                <span class="text-[10px] text-green-500 uppercase italic tracking-widest">Thinking...</span>
            </div>
            <div class="flex items-center gap-4 bg-white/5 p-4 rounded-2xl border border-white/10 focus-within:border-green-500/50 transition-all">
                <span class="mono text-green-500 font-bold">#</span>
                <input type="text" id="main-input" placeholder="Tanyakan tentang C++, Python, atau Red Team..." class="flex-grow bg-transparent border-none focus:ring-0 text-gray-200 text-sm mono outline-none" autocomplete="off">
                <button onclick="sendMessage()" class="bg-green-600 hover:bg-green-400 text-black px-6 py-2 rounded-xl text-[10px] font-black uppercase transition-all">Run</button>
            </div>
        </div>
    </div>

    <script>
        // =========================================================================
        // 1. MASUKKAN API KEY GOOGLE GEMINI LO DI SINI (ANTARA TANDA KUTIP)
        // =========================================================================
        const apiKey = "AIzaSyByORHox-PdyVEQEOzeaEyYF75X3ec3Mdc"; 
        // =========================================================================

        const chatDisplay = document.getElementById('chat-display');
        const mainInput = document.getElementById('main-input');
        const aiLoading = document.getElementById('ai-loading');
        const canvas = document.getElementById('bg-canvas');
        const ctx = canvas.getContext('2d');

        setInterval(() => { document.getElementById('clock').innerText = new Date().toTimeString().split(' ')[0]; }, 1000);
        function unlockTerminal() { document.getElementById('auth-gate').style.display = 'none'; document.getElementById('terminal-ui').classList.remove('hidden'); }
        document.getElementById('check-agree').addEventListener('change', (e) => { document.getElementById('btn-unlock').disabled = !e.target.checked; });

        // Background Particles
        let particles = [];
        function initParticles() {
            canvas.width = window.innerWidth;
            canvas.height = window.innerHeight;
            particles = [];
            for(let i=0; i<50; i++) {
                particles.push({ x: Math.random() * canvas.width, y: Math.random() * canvas.height, size: Math.random() * 2, speed: Math.random() * 0.5 + 0.1 });
            }
        }
        function animateParticles() {
            ctx.clearRect(0, 0, canvas.width, canvas.height);
            ctx.fillStyle = '#00ff41';
            particles.forEach(p => {
                p.y -= p.speed;
                if(p.y < 0) p.y = canvas.height;
                ctx.beginPath(); ctx.arc(p.x, p.y, p.size, 0, Math.PI*2); ctx.fill();
            });
            requestAnimationFrame(animateParticles);
        }
        window.addEventListener('resize', initParticles);
        initParticles();
        animateParticles();

        const SYSTEM_PROMPT = "Kamu adalah Mazkiplay Assistant, seorang ahli Red Team dan Ethical Hacking. Berbicaralah dengan gaya santai tapi profesional (panggil 'Bro'). Akhiri jawabanmu dengan 'by, mazkiplay'.";

        async function fetchAI(userMsg) {
            if (!apiKey || apiKey === "" || apiKey.includes("ISI_API_KEY")) {
                return "ðŸš¨ [SYSTEM_ERROR]: API Key belum diinput di file index.html baris 111.";
            }
            
            // MENGGUNAKAN JALUR V1 DAN MODEL GEMINI-1.5-FLASH YANG PALING STABIL
            const url = `https://generativelanguage.googleapis.com/v1/models/gemini-1.5-flash:generateContent?key=${apiKey}`;
            
            try {
                const response = await fetch(url, {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({
                        contents: [{
                            parts: [{ text: `${SYSTEM_PROMPT}\nUser Question: ${userMsg}` }]
                        }]
                    })
                });

                const data = await response.json();

                if (!response.ok) {
                    console.error("DEBUG:", data);
                    return `ðŸš¨ [CONNECTION_FAILED]: Error ${response.status} - ${data.error?.message || 'Gagal terhubung'}`;
                }

                const aiResponse = data.candidates?.[0]?.content?.parts?.[0]?.text;
                return aiResponse || "ðŸš¨ [EMPTY]: Server tidak mengembalikan teks.";

            } catch (e) {
                console.error("FATAL:", e);
                return "ðŸš¨ [FATAL_ERROR]: Gagal menghubungi server Google. Cek koneksi internet lo.";
            }
        }

        function createMsg(role, text) {
            const div = document.createElement('div');
            div.className = role === 'user' ? 'flex flex-col items-end' : 'flex flex-col items-start';
            const inner = `<span class="text-[9px] opacity-40 mb-1 mono uppercase">${role === 'user' ? 'Local_User' : 'Mazkiplay_AI'}</span>
                           <div class="${role === 'user' ? 'bg-white/5 border-white/10' : 'bg-green-500/5 border-green-500/20 text-green-100'} p-4 rounded-xl border text-sm max-w-[85%] shadow-lg">
                           ${text.replace(/\*\*(.*?)\*\*/g, '<b>$1</b>').replace(/```(.*?)```/gs, '<div class="code-snippet">$1</div>').replace(/\n/g, '<br>')}
                           </div>`;
            div.innerHTML = inner;
            return div;
        }

        async function sendMessage() {
            const val = mainInput.value.trim();
            if (!val) return;
            chatDisplay.appendChild(createMsg('user', val));
            mainInput.value = '';
            aiLoading.classList.remove('hidden');
            chatDisplay.scrollTop = chatDisplay.scrollHeight;

            const res = await fetchAI(val);
            aiLoading.classList.add('hidden');
            chatDisplay.appendChild(createMsg('ai', res));
            chatDisplay.scrollTop = chatDisplay.scrollHeight;
        }

        mainInput.addEventListener('keypress', (e) => { if (e.key === 'Enter') sendMessage(); });
    </script>
</body>
</html>
