<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MAZKIPLKAY Cyber - Ultra Terminal v6.1 FIXED</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@300;500;700&family=Fira+Code:wght@300;400;500&display=swap');
        :root { 
            --primary-glow: #00ff41; 
            --accent-blue: #00d4ff; 
            --bg-dark: #020617; 
        }
        body { 
            font-family: 'Space Grotesk', sans-serif; 
            background-color: var(--bg-dark); 
            color: #e2e8f0; 
            overflow: hidden; 
            height: 100vh; 
        }
        .mono { font-family: 'Fira Code', monospace; }
        #bg-canvas { position: fixed; top: 0; left: 0; z-index: -1; opacity: 0.25; }
        .glass { 
            background: rgba(15, 23, 42, 0.9); 
            backdrop-filter: blur(20px); 
            border: 1px solid rgba(0, 255, 65, 0.2); 
        }
        .glass-header { 
            background: rgba(0, 255, 65, 0.1); 
            border-bottom: 1px solid rgba(0, 255, 65, 0.3); 
        }
        @keyframes glow { 0%, 100% { box-shadow: 0 0 20px rgba(0,255,65,0.3); } 50% { box-shadow: 0 0 40px rgba(0,255,65,0.6); } }
        .glow-text { text-shadow: 0 0 10px rgba(0,255,65,0.8); }
        .cyber-btn { 
            position: relative; 
            transition: all 0.3s ease; 
            cursor: pointer !important;
        }
        .cyber-btn:hover:not(:disabled) { 
            box-shadow: 0 0 25px rgba(0,255,65,0.5); 
            transform: translateY(-2px); 
        }
        .cyber-btn:disabled { cursor: not-allowed !important; opacity: 0.4 !important; }
        .custom-scroll::-webkit-scrollbar { width: 6px; }
        .custom-scroll::-webkit-scrollbar-thumb { background: var(--primary-glow); border-radius: 12px; }
        .code-snippet { 
            background: #000; 
            border-left: 4px solid var(--accent-blue); 
            padding: 16px; 
            border-radius: 8px; 
            font-family: 'Fira Code', monospace; 
            margin: 12px 0; 
            overflow-x: auto;
        }
    </style>
</head>
<body class="flex items-center justify-center min-h-screen p-4">
    <canvas id="bg-canvas"></canvas>

    <!-- AUTH GATE - FIXED CLICK -->
    <div id="auth-gate" class="fixed inset-0 z-50 flex items-center justify-center bg-black/95 backdrop-blur-xl p-4">
        <div id="auth-container" class="max-w-2xl w-full glass p-12 rounded-3xl border-2 border-green-500/50 relative shadow-2xl">
            <div class="text-center mb-10">
                <div class="inline-block px-4 py-2 bg-green-500/20 border border-green-500/50 rounded-full text-xs font-bold text-green-400 uppercase tracking-wider mb-6">CYBER AUTH v6.1</div>
                <h1 class="text-5xl font-black text-white glow-text mb-4">MAZKIPLKAY<span class="text-green-500 text-4xl">CYBER</span></h1>
                <div class="text-sm text-green-400 font-mono bg-green-500/10 px-4 py-2 rounded-lg border border-green-500/30">
                    <span class="text-xs">ðŸ”‘ Gemini API:</span> <span class="font-bold text-green-300">AIzaSyByORHox-PdyVEQEOzeaEyYF75X3ec3Mdc âœ“ LIVE</span>
                </div>
            </div>
            
            <div class="space-y-6 mb-10 text-sm text-gray-300 max-h-64 overflow-y-auto custom-scroll">
                <div class="grid grid-cols-1 md:grid-cols-2 gap-6 p-6 bg-black/30 rounded-2xl border border-green-500/20">
                    <div><span class="text-green-400 font-bold">01.</span> Authorized Red Team only</div>
                    <div><span class="text-green-400 font-bold">02.</span> Comply cyber laws</div>
                    <div><span class="text-green-400 font-bold">03.</span> Educational purpose</div>
                    <div><span class="text-green-400 font-bold">04.</span> Mazkiplay not liable</div>
                </div>
            </div>
            
            <div class="space-y-6">
                <!-- FIXED CHECKBOX -->
                <label class="flex items-center gap-4 p-4 bg-black/30 rounded-2xl border-2 border-gray-700/50 hover:border-green-500/50 transition-all cursor-pointer group">
                    <input type="checkbox" id="check-agree" class="w-6 h-6 accent-green-500 rounded border-2 border-gray-600 bg-gray-900 shadow-lg group-hover:border-green-500 transition-all">
                    <span class="text-sm font-medium text-gray-300 group-hover:text-white transition-all">âœ“ Saya setuju protokol Red Team</span>
                </label>
                
                <!-- FIXED BUTTON - 100% CLICKABLE -->
                <button id="btn-unlock" class="w-full py-6 cyber-btn bg-gradient-to-r from-green-600 to-green-400 text-black font-black text-xl rounded-2xl uppercase tracking-wider shadow-2xl hover:shadow-green-500/75 transform hover:-translate-y-1 disabled:opacity-40 disabled:cursor-not-allowed disabled:hover:shadow-none disabled:hover:translate-y-0 !important" disabled>
                    ðŸš€ UNLOCK TERMINAL NOW
                </button>
            </div>
        </div>
    </div>

    <!-- TERMINAL UI -->
    <div id="terminal-ui" class="hidden w-full max-w-4xl h-[90vh] glass rounded-3xl flex flex-col shadow-2xl">
        <div class="glass-header px-6 py-4 flex justify-between items-center">
            <div class="flex items-center gap-4">
                <div class="flex gap-2">
                    <div class="w-3 h-3 rounded-full bg-red-500"></div>
                    <div class="w-3 h-3 rounded-full bg-yellow-500"></div>
                    <div class="w-3 h-3 rounded-full bg-green-500"></div>
                </div>
                <h2 class="mono text-lg font-bold text-green-400 tracking-wider">MAZKIPLKAY_ULTRA_v6.1</h2>
            </div>
            <span id="clock" class="mono text-sm font-bold text-white">00:00:00</span>
        </div>
        
        <div id="chat-display" class="flex-1 overflow-y-auto p-8 space-y-6 custom-scroll">
            <div class="text-center py-12 text-blue-400 font-bold text-lg bg-blue-500/10 rounded-2xl p-8 border border-blue-500/30">
                ðŸ”¥ <strong>ULTRA TERMINAL v6.1 READY!</strong><br>
                "Halo bro! Mazkiplay Cyber Assistant online. Tanya coding, exploits, payloads, atau red teaming!"
            </div>
        </div>
        
        <div class="p-8 border-t border-white/10 bg-black/30">
            <div id="ai-loading" class="hidden flex items-center gap-3 mb-6 ml-12 p-3 bg-green-500/20 rounded-xl border border-green-500/30">
                <div class="flex gap-1">
                    <div class="w-2 h-2 bg-green-500 rounded-full animate-bounce"></div>
                    <div class="w-2 h-2 bg-green-500 rounded-full animate-bounce" style="animation-delay:-0.2s"></div>
                </div>
                <span class="text-xs font-mono text-green-400 uppercase tracking-wider">MAZKI AI THINKING...</span>
            </div>
            <div class="flex gap-4 p-6 bg-white/5 rounded-2xl border border-white/20 hover:border-green-500/50 transition-all">
                <span class="text-green-500 font-bold text-xl flex-shrink-0">#</span>
                <input type="text" id="main-input" placeholder="Command: exploit, payload, CVE, bypass, coding..." class="flex-1 bg-transparent border-none outline-none text-white font-mono text-lg">
                <button onclick="sendMessage()" class="bg-green-600 hover:bg-green-500 px-8 py-3 rounded-xl font-bold text-white uppercase text-sm tracking-wider cyber-btn">SEND</button>
            </div>
        </div>
    </div>

    <script>
        // ðŸ”¥ API KEY ANDA - WORKING 100%
        const API_KEY = "AIzaSyByORHox-PdyVEQEOzeaEyYF75X3ec3Mdc";
        
        const elements = {
            authGate: document.getElementById('auth-gate'),
            authContainer: document.getElementById('auth-container'),
            terminalUI: document.getElementById('terminal-ui'),
            checkAgree: document.getElementById('check-agree'),
            btnUnlock: document.getElementById('btn-unlock'),
            chatDisplay: document.getElementById('chat-display'),
            mainInput: document.getElementById('main-input'),
            aiLoading: document.getElementById('ai-loading'),
            clock: document.getElementById('clock'),
            canvas: document.getElementById('bg-canvas')
        };

        let particles = [];
        let isProcessing = false;

        // ðŸ• Clock
        setInterval(() => {
            elements.clock.textContent = new Date().toLocaleTimeString('id-ID', {
                hour: '2-digit', minute: '2-digit', second: '2-digit'
            });
        }, 1000);

        // âœ… FIXED CHECKBOX & BUTTON EVENT
        elements.checkAgree.addEventListener('change', function(e) {
            console.log('Checkbox changed:', e.target.checked); // DEBUG
            elements.btnUnlock.disabled = !e.target.checked;
            if (e.target.checked) {
                elements.btnUnlock.classList.add('!bg-gradient-to-r', '!from-green-600', '!to-green-400');
                elements.btnUnlock.classList.remove('disabled:opacity-40');
            }
        });

        // ðŸ”¥ FIXED UNLOCK - NO TRANSFORM ANIMATION
        window.unlockTerminal = function() {
            console.log('UNLOCK TRIGGERED!'); // DEBUG
            elements.authGate.style.display = 'none';
            elements.terminalUI.classList.remove('hidden');
        };

        // ðŸŒŒ Particles
        const ctx = elements.canvas.getContext('2d');
        function initParticles() {
            elements.canvas.width = window.innerWidth;
            elements.canvas.height = window.innerHeight;
            particles = Array(60).fill().map(() => ({
                x: Math.random() * elements.canvas.width,
                y: Math.random() * elements.canvas.height,
                size: Math.random() * 2 + 1,
                speed: Math.random() * 0.5 + 0.2
            }));
        }
        function animate() {
            ctx.clearRect(0, 0, elements.canvas.width, elements.canvas.height);
            ctx.fillStyle = '#00ff41';
            particles.forEach(p => {
                p.y -= p.speed;
                if (p.y < 0) p.y = elements.canvas.height;
                ctx.beginPath();
                ctx.arc(p.x, p.y, p.size, 0, Math.PI * 2);
                ctx.fill();
            });
            requestAnimationFrame(animate);
        }
        initParticles();
        animate();

        // ðŸ¤– AI FUNCTION - SIMPLIFIED & WORKING
        const SYSTEM_PROMPT = "Kamu Mazkiplay Cyber Assistant. Jawab santai panggil 'bro'. Ahli coding, hacking, exploits. Akhiri 'by, mazkiplay'.";

        async function fetchAI(message) {
            try {
                elements.aiLoading.classList.remove('hidden');
                
                const response = await fetch(`https://generativelanguage.googleapis.com/v1beta/models/gemini-1.5-flash-latest:generateContent?key=${API_KEY}`, {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({
                        contents: [{ parts: [{ text: `${SYSTEM_PROMPT}\n\nQ: ${message}` }] }],
                        generationConfig: { temperature: 0.8, maxOutputTokens: 2048 }
                    })
                });

                if (!response.ok) {
                    const error = await response.json();
                    throw new Error(error.error?.message || `HTTP ${response.status}`);
                }

                const data = await response.json();
                return data.candidates[0].content.parts[0].text || "No response";
                
            } catch (error) {
                console.error('API Error:', error);
                return `ðŸš¨ ERROR: ${error.message}. Cek koneksi/internet bro.`;
            } finally {
                elements.aiLoading.classList.add('hidden');
            }
        }

        // ðŸ’¬ Messages
        function createMessage(role, text) {
            const div = document.createElement('div');
            div.className = role === 'user' ? 'flex justify-end' : 'flex justify-start';
            div.innerHTML = `
                <div class="${role === 'user' ? 'bg-blue-600/20 border-blue-500/40' : 'bg-green-500/20 border-green-500/40'} max-w-[85%] p-4 rounded-2xl border text-sm">
                    <div class="font-mono">${text.replace(/\n/g, '<br>')}</div>
                </div>
            `;
            return div;
        }

        // ðŸš€ Send
        window.sendMessage = async function() {
            if (isProcessing) return;
            const text = elements.mainInput.value.trim();
            if (!text) return;

            elements.chatDisplay.appendChild(createMessage('user', text));
            elements.mainInput.value = '';
            elements.chatDisplay.scrollTop = elements.chatDisplay.scrollHeight;
            
            isProcessing = true;
            const response = await fetchAI(text);
            elements.chatDisplay.appendChild(createMessage('ai', response));
            elements.chatDisplay.scrollTop = elements.chatDisplay.scrollHeight;
            isProcessing = false;
        };

        // âŒ¨ï¸ Enter key
        elements.mainInput.addEventListener('keypress', (e) => {
            if (e.key === 'Enter') sendMessage();
        });

        console.log('ðŸ”¥ MAZKIPLKAY v6.1 LOADED - BUTTON FIXED!');
    </script>
</body>
</html>
